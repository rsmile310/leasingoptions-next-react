{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"E:\\\\current_project\\\\PPH\\\\tfs\\\\Website\\\\website\\\\components\\\\ouibounce\\\\ouibounce.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport style from './ouibounce.module.scss';\nimport { faTimes, faEnvelope } from '@fortawesome/pro-light-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport TrustMicro from '../../components/trustpilot/trust-micro';\nimport { TrustThemeTypes } from 'enums/TrustThemeTypes';\nimport Link from 'next/link';\nimport React, { useEffect, useRef, useState } from 'react';\nimport ouibounce from 'ouibounce';\nimport { logLabelEvent } from 'helpers/analytics';\nimport { NewsletterSignup } from '../../business-logic/systemService';\n\nvar OuibounceModal = function OuibounceModal() {\n  _s();\n\n  var emailAddress = useRef();\n\n  var _useState = useState(false),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var leavingModalRef = useRef();\n\n  var dissmissModal = function dissmissModal() {\n    // @ts-ignore\n    leavingModalRef.current.style.display = 'none';\n    logLabelEvent('ouibounce', 'Click', 'dismissed');\n  };\n\n  var newsletterSignup = function newsletterSignup() {\n    var _emailAddress$current, _emailAddress$current2;\n\n    // @ts-ignore\n    if (emailAddress !== null && emailAddress !== void 0 && (_emailAddress$current = emailAddress.current) !== null && _emailAddress$current !== void 0 && _emailAddress$current.value && EmailAddressIsValid(emailAddress === null || emailAddress === void 0 ? void 0 : (_emailAddress$current2 = emailAddress.current) === null || _emailAddress$current2 === void 0 ? void 0 : _emailAddress$current2.value)) {\n      // @ts-ignore\n      NewsletterSignup(emailAddress.current.value, SubscriptionTypes.News).then(function (result) {\n        if (result.status.message === \"OK\") {\n          dissmissModal();\n          setError(false);\n          logLabelEvent('ouibounce', 'click', 'newsletter_signup');\n        }\n      });\n    } else {\n      setError(true);\n      emailAddress === null || emailAddress === void 0 ? void 0 : emailAddress.current.focus();\n    }\n  };\n\n  useEffect(function () {\n    // @ts-ignore\n    ouibounce(leavingModalRef.current, {\n      delay: 20\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"ouibounce-modal\",\n    className: style['modal-ouibounce'],\n    style: {\n      display: 'none'\n    },\n    ref: leavingModalRef,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style['ouibounce-overlay'],\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style['ouibounce-overlay__modal'],\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: style['ouibounce-overlay__bg'],\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            \"data-src\": \"\".concat(process.env.NEXT_PUBLIC_CDN, \"/website/static/ouibounce-bg.jpg\"),\n            width: \"315\",\n            height: \"407\",\n            className: \"lazyload\",\n            alt: \"Decorative phone image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 69\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: style['ouibounce-overlay__close'],\n          onClick: dissmissModal,\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faTimes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 99\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row no-gutters\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-24 col-md-18\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"mb-3\",\n              children: \"Leaving so soon?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-3 mb-md-4\",\n              children: \"Want the latest deals? Special offers, exclusives and latest car news and reviews. Don\\u2019t miss a thing and sign up for alerts!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row no-gutters\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-24 col-md-16 col-lg-14 mb-3 mb-md-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"box bg-light-grey\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"\".concat(style['ouibounce-overlay__input'], \" \").concat(error ? \"is-invalid\" : \"\"),\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: emailAddress,\n                  id: \"emailAddress\",\n                  name: \"emailAddress\",\n                  className: \"form-control \".concat(error ? style['is-invalid'] : \"mb-2 mb-md-3\"),\n                  placeholder: \"Your email address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 37\n                }, _this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faEnvelope\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 37\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 33\n              }, _this), error && /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"w-100 d-block text-red mb-3\",\n                children: \"Please enter a valid email address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 43\n              }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary btn-lg-md btn-block mb-3\",\n                onClick: function onClick() {\n                  newsletterSignup();\n                },\n                children: \"Sign up for exclusive offers\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-100 position-relative text-center mb-3\",\n                children: /*#__PURE__*/_jsxDEV(TrustMicro, {\n                  theme: TrustThemeTypes.Dark\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 37\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row no-gutters\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-24 col-md-16 col-lg-14 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              \"data-src\": \"\".concat(process.env.NEXT_PUBLIC_CDN, \"/website/static/ouibounce-cars.png\"),\n              width: \"400\",\n              height: \"100\",\n              className: \"img-fluid mb-3 lazyload\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row no-gutters\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-24 col-md-16\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: style['ouibounce-overlay__tandcs'],\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                children: [\"You can unsubscribe at any time, by emailing \", /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"mailto:compliance@leasingoptions.co.uk\",\n                  children: \"compliance@leasingoptions.co.uk\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 131\n                }, _this), \" or by clicking the unsubscribe link at the end of any e-newsletter you have received from us. For more information, please see our \", /*#__PURE__*/_jsxDEV(Link, {\n                  passHref: true,\n                  href: \"/privacy-policy\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    children: \"Privacy Policy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 385\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 347\n                }, _this), \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 79\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(OuibounceModal, \"t5RPdtdVrsTLqr+PR3jgBuBkdrE=\");\n\n_c = OuibounceModal;\nexport default OuibounceModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"OuibounceModal\");","map":{"version":3,"sources":["E:/current_project/PPH/tfs/Website/website/components/ouibounce/ouibounce.tsx"],"names":["style","faTimes","faEnvelope","FontAwesomeIcon","TrustMicro","TrustThemeTypes","Link","React","useEffect","useRef","useState","ouibounce","logLabelEvent","NewsletterSignup","OuibounceModal","emailAddress","error","setError","leavingModalRef","dissmissModal","current","display","newsletterSignup","value","EmailAddressIsValid","SubscriptionTypes","News","then","result","status","message","focus","delay","process","env","NEXT_PUBLIC_CDN","Dark"],"mappings":"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","sourcesContent":["import style from './ouibounce.module.scss';\r\nimport { faTimes, faEnvelope } from '@fortawesome/pro-light-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport TrustMicro from '../../components/trustpilot/trust-micro';\r\nimport { TrustThemeTypes } from 'enums/TrustThemeTypes';\r\nimport Link from 'next/link';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport ouibounce from 'ouibounce';\r\nimport { logLabelEvent } from 'helpers/analytics';\r\nimport { NewsletterSignup } from '../../business-logic/systemService';\r\n\r\nconst OuibounceModal = () => {\r\n\r\n    let emailAddress = useRef() as React.MutableRefObject<HTMLInputElement>;\r\n    const [error, setError] = useState<boolean>(false);\r\n    const leavingModalRef = useRef();\r\n      \r\n    const dissmissModal = () => {\r\n        // @ts-ignore\r\n        leavingModalRef.current.style.display = 'none'\r\n        logLabelEvent('ouibounce', 'Click', 'dismissed');    \r\n    }\r\n    \r\n    const newsletterSignup = () => {\r\n        // @ts-ignore\r\n        if(emailAddress?.current?.value && EmailAddressIsValid(emailAddress?.current?.value)){\r\n            // @ts-ignore\r\n            NewsletterSignup(emailAddress.current.value, SubscriptionTypes.News)\r\n            .then(result => {\r\n                if(result.status.message === \"OK\"){\r\n                    dissmissModal();\r\n                    setError(false);\r\n                    logLabelEvent('ouibounce', 'click', 'newsletter_signup');\r\n                }               \r\n            })\r\n        } else {\r\n            setError(true);\r\n            emailAddress?.current.focus();\r\n        }\r\n    }\r\n    useEffect(() => {\r\n         // @ts-ignore\r\n\r\n         ouibounce(leavingModalRef.current, { delay: 20 });   \r\n    }, [])\r\n\r\n    return (\r\n        <div id=\"ouibounce-modal\" className={style['modal-ouibounce']} style={{display: 'none'}} ref={leavingModalRef}>\r\n            <div className={style['ouibounce-overlay']}>\r\n                <div className={style['ouibounce-overlay__modal']}>\r\n                    <div className={style['ouibounce-overlay__bg']}><img data-src={`${process.env.NEXT_PUBLIC_CDN}/website/static/ouibounce-bg.jpg`} width=\"315\" height=\"407\" className=\"lazyload\" alt=\"Decorative phone image\" /></div>\r\n                    <button className={style['ouibounce-overlay__close']} onClick={dissmissModal}><FontAwesomeIcon icon={faTimes} /></button>\r\n                    <div className=\"row no-gutters\">\r\n                        <div className=\"col-24 col-md-18\">\r\n                            <h3 className=\"mb-3\">Leaving so soon?</h3>\r\n                            <p className=\"mb-3 mb-md-4\">Want the latest deals? Special offers, exclusives and latest car news and reviews. Donâ€™t miss a thing and sign up for alerts!</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row no-gutters\">\r\n                        <div className=\"col-24 col-md-16 col-lg-14 mb-3 mb-md-4\">\r\n                            <div className=\"box bg-light-grey\">\r\n                                <div className={`${style['ouibounce-overlay__input']} ${error ? \"is-invalid\" : \"\"}`}>\r\n                                    <input ref={emailAddress} id=\"emailAddress\" name=\"emailAddress\" className={`form-control ${error ? style['is-invalid'] : \"mb-2 mb-md-3\"}`} placeholder=\"Your email address\" />\r\n                                    <FontAwesomeIcon icon={faEnvelope} />\r\n                                </div>\r\n                                {error && <small className=\"w-100 d-block text-red mb-3\">Please enter a valid email address</small>}\r\n                                <button className=\"btn btn-primary btn-lg-md btn-block mb-3\" onClick={() => {newsletterSignup()}}>Sign up for exclusive offers</button>\r\n                                <div className=\"w-100 position-relative text-center mb-3\">\r\n                                    <TrustMicro theme={TrustThemeTypes.Dark} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row no-gutters\">\r\n                        <div className=\"col-24 col-md-16 col-lg-14 text-center\">\r\n                            <img data-src={`${process.env.NEXT_PUBLIC_CDN}/website/static/ouibounce-cars.png`} width=\"400\" height=\"100\" className=\"img-fluid mb-3 lazyload\" alt=\"\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row no-gutters\">\r\n                        <div className=\"col-24 col-md-16\">\r\n                            <p className={style['ouibounce-overlay__tandcs']}><small>You can unsubscribe at any time, by emailing <a href=\"mailto:compliance@leasingoptions.co.uk\">compliance@leasingoptions.co.uk</a> or by clicking the unsubscribe link at the end of any e-newsletter you have received from us. For more information, please see our <Link passHref href=\"/privacy-policy\"><a>Privacy Policy</a></Link>.</small></p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default OuibounceModal;"]},"metadata":{},"sourceType":"module"}