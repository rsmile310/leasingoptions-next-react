{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nimport PopOver from '../../layout/popover';\nimport DropDown from '../../layout/drop-down';\nimport VehicleRentalMonthsSlider from '../vehicle-rental-months-slider/';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faInfoCircle, faLock } from \"@fortawesome/pro-regular-svg-icons\";\nimport { GetPhoneNumber, GetVATText } from 'helpers/helpers';\nimport { LeasingDealTypes } from 'enums/LeasingDealTypes';\nimport { formatNumber } from 'helpers/currencyHelper';\nimport { connect } from 'react-redux';\n\n//TODO: merge vehicle-custom-options and vehicle-custom-options-special-deal components\nvar VehicleCustomOptions = function VehicleCustomOptions(_ref) {\n  var isInternal = _ref.isInternal,\n      options = _ref.options,\n      prices = _ref.prices,\n      settings = _ref.settings;\n  var blackFridayTheme = process.env.NEXT_PUBLIC_BLACK_FRIDAY_THEME;\n  var terms = [2, 3, 4];\n  var top3MileageItems = [];\n  var isCustomMileage = false;\n\n  if (settings.availableMileages && settings.availableMileages.length > 0) {\n    if (settings.availableMileages.length <= 3) {\n      Array.prototype.push.apply(top3MileageItems, settings.availableMileages);\n    } else {\n      Array.prototype.push.apply(top3MileageItems, options.leasingDealType === LeasingDealTypes.Van ? [8000, 10000, 12000] : [5000, 8000, 10000]);\n    }\n\n    isCustomMileage = !top3MileageItems.includes(options.mileage);\n  }\n\n  var handleOptionClick = function handleOptionClick(name, value) {\n    var applyIsAllowed = !settings.locks[name];\n\n    if (applyIsAllowed) {\n      if (settings.setOptions) {\n        settings.setOptions(name, value);\n      }\n    } else {\n      showLockMessage();\n    }\n  };\n\n  var showLockMessage = function showLockMessage() {\n    //TODO: implement proper message\n    //alert(\"This deal is fixed to the parameters shown. Alternative parameters may be possible, please give us a call on \" + $.cookie('lo_phone') + \" for details.\");\n    alert(\"This deal is fixed to the parameters shown. Alternative parameters may be possible, please give us a call on \".concat(GetPhoneNumber(isInternal), \" for details.\"));\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"w-100 py-3\",\n      children: [/*#__PURE__*/_jsxs(\"label\", {\n        className: \"mr-1\",\n        children: [\"Contract Length - \", /*#__PURE__*/_jsxs(\"span\", {\n          children: [options.term, \" Years\"]\n        })]\n      }), /*#__PURE__*/_jsx(PopOver, {\n        id: \"contract-length\",\n        trigger: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n          width: \"16\",\n          height: \"16\",\n          icon: faInfoCircle\n        }),\n        body: \"This is the term you will lease your vehicle for.\"\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"btn-group chck-buttons \".concat(blackFridayTheme === 'true' ? 'chck-buttons--bf' : '', \" chck-buttons--x3\"),\n        role: \"group\",\n        \"aria-label\": \"Contract Length\",\n        children: terms.map(function (term) {\n          return /*#__PURE__*/_jsxs(\"button\", {\n            onClick: function onClick() {\n              return handleOptionClick(\"term\", term);\n            },\n            className: \"btn btn-option btn-fluid btn-lg \".concat(options.term === term ? \"is-active\" : \"\"),\n            children: [term, \" Years \", settings.locks.term && options.term === term ? /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              width: \"25\",\n              height: \"25\",\n              icon: faLock\n            }) : null]\n          }, \"term-\".concat(term));\n        })\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"w-100 py-3\",\n      children: [/*#__PURE__*/_jsxs(\"label\", {\n        className: \"mr-1\",\n        children: [\"Annual Mileage - \", /*#__PURE__*/_jsxs(\"span\", {\n          children: [formatNumber(options.mileage), \" Miles\"]\n        })]\n      }), /*#__PURE__*/_jsx(PopOver, {\n        id: \"annual-mileage\",\n        trigger: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n          width: \"16\",\n          height: \"16\",\n          icon: faInfoCircle\n        }),\n        body: \"Each mile travelled in excess of the annual mileage allowance will attract a cost in pence per mile. This figure will be confirmed at order stage and on your finance agreement.\"\n      }), top3MileageItems && top3MileageItems.length > 0 ? /*#__PURE__*/_jsxs(\"div\", {\n        className: \"btn-group chck-buttons \".concat(blackFridayTheme === 'true' ? 'chck-buttons--bf' : ''),\n        role: \"group\",\n        \"aria-label\": \"Annual Mileage\",\n        children: [top3MileageItems.map(function (mileage) {\n          return /*#__PURE__*/_jsxs(\"button\", {\n            onClick: function onClick() {\n              return handleOptionClick(\"mileage\", mileage);\n            },\n            className: \"btn btn-option btn-fluid btn-lg \".concat(options.mileage === mileage && !isCustomMileage ? \"is-active\" : \"\"),\n            children: [formatNumber(mileage), \" \", settings.locks.mileage && options.mileage === mileage && !isCustomMileage ? /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              width: \"25\",\n              height: \"25\",\n              icon: faLock\n            }) : null]\n          }, \"top-mileage-\".concat(mileage));\n        }), settings.availableMileages.length > 3 ? /*#__PURE__*/_jsxs(_Fragment, {\n          children: [!settings.locks.mileage ? /*#__PURE__*/_jsx(DropDown, {\n            wrapperClass: \"btn--dd\",\n            buttonClass: \"btn btn-outline-primary btn-fluid btn-lg \".concat(isCustomMileage ? \" is-active\" : \"\"),\n            buttonText: isCustomMileage ? formatNumber(options.mileage) : \"More\",\n            children: settings.availableMileages.map(function (mileage) {\n              return /*#__PURE__*/_jsx(\"button\", {\n                onClick: function onClick() {\n                  return handleOptionClick(\"mileage\", mileage);\n                },\n                type: \"button\",\n                className: \"\".concat(options.mileage === mileage ? \"is-active\" : \"\"),\n                children: formatNumber(mileage)\n              }, \"mileage-\".concat(mileage));\n            })\n          }) : null, settings.locks.mileage ? /*#__PURE__*/_jsxs(\"button\", {\n            onClick: function onClick() {\n              return showLockMessage();\n            },\n            className: \"btn btn-outline-primary btn-fluid btn-lg \".concat(isCustomMileage ? \" is-active\" : \"\"),\n            children: [isCustomMileage ? formatNumber(options.mileage) : \"More\", \" \", isCustomMileage ? /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              width: \"25\",\n              height: \"25\",\n              icon: faLock\n            }) : null]\n          }) : null]\n        }) : null]\n      }) : null]\n    }), settings.maintenanceEnabled ? /*#__PURE__*/_jsxs(\"div\", {\n      className: \"w-100 py-3\",\n      children: [/*#__PURE__*/_jsxs(\"label\", {\n        className: \"mr-1\",\n        children: [\"Maintenance - \", /*#__PURE__*/_jsx(\"span\", {\n          children: options.maintenance ? prices.monthlyMaintenance + \" Per month\" : \"No\"\n        })]\n      }), /*#__PURE__*/_jsx(PopOver, {\n        id: \"maintenance\",\n        trigger: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n          width: \"16\",\n          height: \"16\",\n          icon: faInfoCircle\n        }),\n        body: \"Select if you would like to order a maintenance package with your vehicle. If you do not select you will be responsible for all maintenance costs.\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"btn-group chck-buttons \".concat(blackFridayTheme === 'true' ? 'chck-buttons--bf' : '', \" chck-buttons--x3\"),\n        role: \"group\",\n        \"aria-label\": \"Maintenance\",\n        children: [/*#__PURE__*/_jsxs(\"button\", {\n          onClick: function onClick() {\n            return handleOptionClick(\"maintenance\", false);\n          },\n          className: \"btn btn-option btn-fluid btn-lg \".concat(options.maintenance ? \"\" : \"is-active\"),\n          children: [\"No \", settings.locks.maintenance && !options.maintenance ? /*#__PURE__*/_jsx(FontAwesomeIcon, {\n            width: \"25\",\n            height: \"25\",\n            icon: faLock\n          }) : null]\n        }), /*#__PURE__*/_jsxs(\"button\", {\n          onClick: function onClick() {\n            return handleOptionClick(\"maintenance\", true);\n          },\n          className: \"btn btn-option btn-fluid btn-lg \".concat(options.maintenance ? \"is-active\" : \"\"),\n          children: [\"Yes \", settings.locks.maintenance && options.maintenance ? /*#__PURE__*/_jsx(FontAwesomeIcon, {\n            width: \"25\",\n            height: \"25\",\n            icon: faLock\n          }) : null]\n        })]\n      })]\n    }) : null, /*#__PURE__*/_jsxs(\"div\", {\n      className: \"w-100 py-3\",\n      children: [/*#__PURE__*/_jsxs(\"label\", {\n        className: \"mr-1\",\n        children: [/*#__PURE__*/_jsxs(\"span\", {\n          children: [\"x\", options.initialRentalMonths]\n        }), \" Initial Payment - \", /*#__PURE__*/_jsxs(\"span\", {\n          children: [prices.initialRental, \" \", GetVATText(options.leasingDealType)]\n        })]\n      }), /*#__PURE__*/_jsx(PopOver, {\n        id: \"cinitial-payment\",\n        trigger: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n          width: \"16\",\n          height: \"16\",\n          icon: faInfoCircle\n        }),\n        body: \"Your first payment is calculated in multiples of your monthly rental. Choosing a larger initial rental makes your monthly payments smaller. This is part of your contract and is not a deposit. It is non-refundable and is usually taken within 14 days of your vehicle being delivered.\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"w-100 position-relative\",\n        children: [/*#__PURE__*/_jsx(VehicleRentalMonthsSlider, {\n          value: options.initialRentalMonths,\n          onValueChanged: function onValueChanged(value) {\n            return handleOptionClick(\"initialRentalMonths\", value);\n          },\n          isDisabled: settings.locks.initialRentalMonths\n        }), settings.locks.initialRentalMonths ? /*#__PURE__*/_jsx(FontAwesomeIcon, {\n          width: \"25\",\n          height: \"25\",\n          className: \"icon-lock\",\n          icon: faLock\n        }) : null]\n      })]\n    })]\n  });\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isInternal: state.isInternal\n  };\n};\n\nexport default connect(mapStateToProps)(VehicleCustomOptions);","map":null,"metadata":{},"sourceType":"module"}