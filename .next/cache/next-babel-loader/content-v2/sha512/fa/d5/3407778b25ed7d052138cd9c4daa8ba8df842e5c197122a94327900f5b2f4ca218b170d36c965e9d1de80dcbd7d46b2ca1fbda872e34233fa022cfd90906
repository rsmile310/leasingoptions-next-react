{"ast":null,"code":"import { VehicleTypes } from \"enums/VehicleTypes\";\nimport { LeasingDealTypes } from \"enums/LeasingDealTypes\";\nimport { isNullOrWhiteSpace } from \"./stringHelper\";\nimport { getFriendlyUrlSegment, getUrl } from \"./urlsHelper\";\n\nvar queryString = require('query-string');\n\nexport var GetCanonicalUrl = function GetCanonicalUrl(relativePath) {\n  return process.env.NEXT_PUBLIC_CANONICALBASEURL + (!isNullOrWhiteSpace(relativePath) && relativePath !== \"/\" ? relativePath : \"\");\n};\n_c = GetCanonicalUrl;\nexport var GetNonAmpCanonicalUrl = function GetNonAmpCanonicalUrl(relativePath) {\n  if (process.env.NEXT_PUBLIC_CANONICALBASEURL + (!isNullOrWhiteSpace(relativePath) && relativePath !== \"/\")) {\n    return relativePath.replace(\"/amp\", \"\");\n  } else {\n    return relativePath;\n  }\n};\n_c2 = GetNonAmpCanonicalUrl;\nexport var GetVehiclesSearchUrl = function GetVehiclesSearchUrl(leasingDealType, userPostcode) {\n  var trailingPart = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  if (userPostcode) {\n    return GetAtcUrl(leasingDealType, userPostcode, \"/search\");\n  } else {\n    var vehicleTemplateUrl = GetVehicleUrlTemplate(leasingDealType).toLowerCase();\n\n    if (vehicleTemplateUrl.includes(\"?\")) {\n      var fullUrl = vehicleTemplateUrl.split('?');\n      var startUrl = fullUrl[0];\n      var endUrl = fullUrl[1];\n      return startUrl + \"/search?\" + endUrl + (trailingPart ? \"&\" + trailingPart : '');\n    } else {\n      return vehicleTemplateUrl + \"/search\" + (trailingPart ? \"?\" + trailingPart : '');\n    }\n  }\n};\n_c3 = GetVehiclesSearchUrl;\nexport var GetVehicleManufacturerUrl = function GetVehicleManufacturerUrl(isATC, userPostcode, leasingDealType, manufacturer) {\n  if (isATC && userPostcode) {\n    return GetAtcUrl(leasingDealType, userPostcode, \"/\" + getFriendlyUrlSegment(manufacturer));\n  } else {\n    return GetDealTypeUrl(leasingDealType, \"/\" + getFriendlyUrlSegment(manufacturer));\n  }\n};\n_c4 = GetVehicleManufacturerUrl;\nexport var GetShortModelUrl = function GetShortModelUrl(isATC, userPostcode, leasingDealType, manufacturer, shortModText, vehicleFilters) {\n  var baseUrl = '';\n  var queryParams = [];\n\n  if (isATC && userPostcode) {\n    baseUrl = GetAtcUrl(leasingDealType, userPostcode, \"/\" + getFriendlyUrlSegment(manufacturer) + \"/\" + getFriendlyUrlSegment(shortModText));\n  } else {\n    baseUrl = GetDealTypeUrl(leasingDealType, \"/\" + getFriendlyUrlSegment(manufacturer) + \"/\" + getFriendlyUrlSegment(shortModText));\n  }\n\n  return getUrl(baseUrl, GetQueryParamsFromFilter(vehicleFilters));\n};\n_c5 = GetShortModelUrl;\nexport var GetDynamicShortModelUrl = function GetDynamicShortModelUrl(isATC, userPostcode, leasingDealType, vehicleFilters) {\n  var baseUrl = '';\n  var queryParams = [];\n\n  if (isATC && userPostcode) {\n    baseUrl = GetAtcUrl(leasingDealType, userPostcode, \"/[make]/[shortModel]\");\n  } else {\n    baseUrl = GetDealTypeUrl(leasingDealType, \"/[make]/[shortModel]\");\n  }\n\n  return getUrl(baseUrl, GetQueryParamsFromFilter(vehicleFilters));\n};\n_c6 = GetDynamicShortModelUrl;\nexport var GetNewsTypeUrl = function GetNewsTypeUrl(newsType) {\n  var newsTypeUrl = getFriendlyUrlSegment(newsType).trim();\n\n  if (newsTypeUrl) {\n    return \"/news/\" + newsTypeUrl;\n  }\n\n  return null;\n};\n_c7 = GetNewsTypeUrl;\nexport var GetAdviceCategoryUrl = function GetAdviceCategoryUrl(categoryUrl) {\n  return \"/advice/\" + getFriendlyUrlSegment(categoryUrl).toLowerCase();\n};\n_c8 = GetAdviceCategoryUrl;\nexport var GetAdviceTagUrl = function GetAdviceTagUrl(tagUrl) {\n  return \"/advice/tag-\" + getFriendlyUrlSegment(tagUrl).toLowerCase();\n};\n_c9 = GetAdviceTagUrl;\nexport var GetAdviceArticleUrl = function GetAdviceArticleUrl(categoryUrl, articleUrl) {\n  return (\"/advice/\" + getFriendlyUrlSegment(categoryUrl) + \"/\" + getFriendlyUrlSegment(articleUrl)).toLowerCase();\n};\n_c10 = GetAdviceArticleUrl;\nexport var BodyTypeUrlLeasingDeal = function BodyTypeUrlLeasingDeal(leasingDealType, bodyType) {\n  return GetDealTypeUrl(leasingDealType, \"/body-type-\" + getFriendlyUrlSegment(bodyType.toString()));\n};\n_c11 = BodyTypeUrlLeasingDeal;\nexport var ShortTermLeasing = function ShortTermLeasing(leasingDealType) {\n  return GetDealTypeUrl(leasingDealType, \"/short-term\");\n};\n_c12 = ShortTermLeasing;\nexport var InStockUrlLeasingType = function InStockUrlLeasingType(leasingDealType) {\n  return GetDealTypeUrl(leasingDealType, \"/in-stock\");\n};\n_c13 = InStockUrlLeasingType;\nexport var BudgetToUrlLeasingType = function BudgetToUrlLeasingType(leasingDealType, budget) {\n  return GetDealTypeUrl(leasingDealType, \"/budget/\" + budget);\n};\n_c14 = BudgetToUrlLeasingType;\nexport var BudgetFromUrlLeasingDealType = function BudgetFromUrlLeasingDealType(leasingDealType, budget) {\n  return GetDealTypeUrl(leasingDealType, \"/budget-over/\" + budget);\n};\n_c15 = BudgetFromUrlLeasingDealType;\nexport var BudgetToUrlVehicleType = function BudgetToUrlVehicleType(vehicleType, budget) {\n  return GetVehicleTypeUrl(vehicleType, \"/budget/\" + budget);\n};\n_c16 = BudgetToUrlVehicleType;\nexport var BudgetFromUrlVehicleType = function BudgetFromUrlVehicleType(vehicleType, budget) {\n  return GetVehicleTypeUrl(vehicleType, \"/budget-over/\" + budget);\n};\n_c17 = BudgetFromUrlVehicleType;\nexport var BodyTypeUrlVehicleType = function BodyTypeUrlVehicleType(vehicleType, bodyType) {\n  return GetVehicleTypeUrl(vehicleType, \"/body-type/\" + getFriendlyUrlSegment(bodyType.toString()));\n};\n_c18 = BodyTypeUrlVehicleType;\nexport var InStockUrlVehicleType = function InStockUrlVehicleType(vehicleType) {\n  return GetVehicleTypeUrl(vehicleType, \"/in-stock\");\n};\n_c19 = InStockUrlVehicleType;\nexport var GetVehicleUrlTemplate = function GetVehicleUrlTemplate(leasingDealType) {\n  var result = \"/\" + (leasingDealType == LeasingDealTypes.Van ? \"van\" : \"car\") + \"-leasing\";\n\n  if (leasingDealType == LeasingDealTypes.Business) {\n    result += \"?leasingdeal=business\";\n  }\n\n  return result.toLowerCase();\n};\n_c20 = GetVehicleUrlTemplate;\nexport var GetVehicleUrl = function GetVehicleUrl(isATC, userPostcode, leasingDealType, manufacturer, shortModText, model, derivative, vehicleref, mileage, rentals, term) {\n  var isDefault = arguments.length > 11 && arguments[11] !== undefined ? arguments[11] : false;\n  var isInternal = arguments.length > 12 && arguments[12] !== undefined ? arguments[12] : false;\n  var url = \"\";\n\n  if (isATC && userPostcode) {\n    url = GetAtcUrl(leasingDealType, userPostcode, \"/\" + getFriendlyUrlSegment(manufacturer) + \"/\" + getFriendlyUrlSegment(shortModText) + \"/\" + getFriendlyUrlSegment(model) + \"/\" + getFriendlyUrlSegment(derivative) + \"/\" + vehicleref + \"/vehicle\");\n  } else {\n    url = GetDealTypeUrl(leasingDealType, \"/\" + getFriendlyUrlSegment(manufacturer) + \"/\" + getFriendlyUrlSegment(shortModText) + \"/\" + getFriendlyUrlSegment(model) + \"/\" + getFriendlyUrlSegment(derivative) + \"/\" + vehicleref + \"/vehicle\");\n  }\n\n  if (mileage || rentals || term || isDefault || isInternal) {\n    if (!url.includes('?')) {\n      url += \"?\";\n    }\n\n    if (mileage && rentals && term) {\n      url += '&' + queryString.stringify({\n        mileage: mileage,\n        rentals: rentals,\n        term: term\n      });\n    }\n\n    if (isInternal) {\n      url += \"&isInternal=1\";\n    }\n\n    if (isDefault) {\n      url += \"&isDefault=1\";\n    }\n  }\n\n  return url.toLowerCase();\n};\n_c21 = GetVehicleUrl;\nexport var GetDynamicVehicleUrl = function GetDynamicVehicleUrl(isATC, userPostcode, leasingDealType) {\n  var url = \"\";\n\n  if (isATC && userPostcode) {\n    url = GetAtcUrl(leasingDealType, userPostcode, \"/[make]/[shortModel]/[model]/[derivative]/[vehicleRef]/vehicle\");\n  } else {\n    url = GetDealTypeUrl(leasingDealType, \"/[make]/[shortModel]/[model]/[derivative]/[vehicleRef]/vehicle\");\n  }\n\n  return url;\n};\n_c22 = GetDynamicVehicleUrl;\nexport var GetVehicleTypeUrl = function GetVehicleTypeUrl(vehicleType) {\n  var trailingPart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var result = GetBaseVehicleTypeUrl(vehicleType);\n\n  if (!isNullOrWhiteSpace(result) && !isNullOrWhiteSpace(trailingPart)) {\n    result += trailingPart;\n  }\n\n  return result.toLowerCase();\n};\n_c23 = GetVehicleTypeUrl;\nexport var GetBaseVehicleTypeUrl = function GetBaseVehicleTypeUrl(vehicleType) {\n  var result = \"\";\n\n  switch (vehicleType) {\n    case VehicleTypes.Car:\n      result = \"/car-leasing\";\n      break;\n\n    case VehicleTypes.Commercial:\n      result = \"/van-leasing\";\n      break;\n  }\n\n  return result.toLowerCase();\n};\n_c24 = GetBaseVehicleTypeUrl;\nexport var GetDealTypeUrl = function GetDealTypeUrl(leasingDealType) {\n  var trailingPart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var result = \"\";\n\n  if (leasingDealType == LeasingDealTypes.Business) {\n    result = \"/car-leasing\" + (trailingPart !== null && trailingPart !== void 0 ? trailingPart : \"\") + \"?leasingdeal=business\";\n  } else if (leasingDealType == LeasingDealTypes.Personal) {\n    result = \"/car-leasing\" + (trailingPart !== null && trailingPart !== void 0 ? trailingPart : \"\");\n  } else if (leasingDealType == LeasingDealTypes.Van) {\n    result = \"/van-leasing\" + (trailingPart !== null && trailingPart !== void 0 ? trailingPart : \"\");\n  }\n\n  return result;\n};\n_c25 = GetDealTypeUrl;\nexport var GetAtcUrl = function GetAtcUrl(leasingDealType, userPostcode) {\n  var trailingPart = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var result = \"/car-leasing-with-insurance/\" + getFriendlyUrlSegment(userPostcode).toLowerCase() + trailingPart;\n\n  if (leasingDealType == LeasingDealTypes.Business) {\n    result += \"?leasingdeal=business\";\n  }\n\n  return result;\n};\n_c26 = GetAtcUrl;\nexport var GetThankYouPageUrl = function GetThankYouPageUrl(isInternal) {\n  var goal = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  if (!isInternal) {\n    return \"/thankyou?goal=\" + goal;\n  } else {\n    return \"/thankyouinternal\";\n  }\n};\n_c27 = GetThankYouPageUrl;\nexport var GetVehicleTypeFromUrl = function GetVehicleTypeFromUrl(url) {\n  if (CheckVanUrl(url)) {\n    return VehicleTypes.Commercial;\n  } else {\n    return VehicleTypes.Car;\n  }\n};\n_c28 = GetVehicleTypeFromUrl;\nexport var CheckAtcUrl = function CheckAtcUrl(url) {\n  return url.includes(\"car-leasing-with-insurance\");\n};\n_c29 = CheckAtcUrl;\nexport var CheckCarUrl = function CheckCarUrl(url) {\n  return url.includes(\"car-leasing\");\n};\n_c30 = CheckCarUrl;\nexport var CheckVanUrl = function CheckVanUrl(url) {\n  if (url.includes(\"van-leasing\") || url.includes(\"van-leasing-deals\")) {\n    return true;\n  } else {\n    return false;\n  }\n};\n_c31 = CheckVanUrl;\nexport var GetSearchFiltersUrl = function GetSearchFiltersUrl(leasingDealType, userPostcode, vehicleFilters) {\n  var baseUrl = null;\n  var isAtc = false;\n\n  if (userPostcode) {\n    isAtc = true;\n\n    if (vehicleFilters.manufacturerUrl === \"\") {\n      baseUrl = GetVehiclesSearchUrl(leasingDealType, userPostcode);\n    } else if (vehicleFilters.modelUrl === \"\") {\n      baseUrl = GetVehicleManufacturerUrl(isAtc, userPostcode, leasingDealType, vehicleFilters.manufacturerUrl);\n    } else {\n      baseUrl = GetShortModelUrl(isAtc, userPostcode, leasingDealType, vehicleFilters.manufacturerUrl, vehicleFilters.modelUrl, null);\n    }\n  } else {\n    if (vehicleFilters.manufacturerUrl === \"\") {\n      baseUrl = GetVehiclesSearchUrl(leasingDealType, '');\n    } else if (vehicleFilters.modelUrl === \"\") {\n      baseUrl = GetVehicleManufacturerUrl(isAtc, null, leasingDealType, vehicleFilters.manufacturerUrl);\n    } else {\n      baseUrl = GetShortModelUrl(isAtc, null, leasingDealType, vehicleFilters.manufacturerUrl, vehicleFilters.modelUrl, null);\n    }\n  }\n\n  return getUrl(baseUrl, GetQueryParamsFromFilter(vehicleFilters));\n};\n_c32 = GetSearchFiltersUrl;\n\nvar GetQueryParamsFromFilter = function GetQueryParamsFromFilter(vehicleFilters) {\n  var queryParams = [];\n\n  if (vehicleFilters) {\n    if (vehicleFilters.shortDerTextUrl && vehicleFilters.shortDerTextUrl.id !== \"\") {\n      queryParams.push(\"trimlevel=\" + vehicleFilters.shortDerTextUrl.id);\n    }\n\n    if (vehicleFilters.mileage && vehicleFilters.mileage.id) {\n      queryParams.push(\"mileage=\" + vehicleFilters.mileage.id);\n    }\n\n    if (vehicleFilters.initialRental && vehicleFilters.initialRental.id) {\n      queryParams.push(\"rentals=\" + vehicleFilters.initialRental.id);\n    }\n\n    if (vehicleFilters.term && vehicleFilters.term.id) {\n      queryParams.push(\"term=\" + vehicleFilters.term.id);\n    }\n\n    if (vehicleFilters.priceFrom && vehicleFilters.priceFrom.id) {\n      queryParams.push(\"pricefrom=\" + vehicleFilters.priceFrom.id);\n    }\n\n    if (vehicleFilters.priceTo && vehicleFilters.priceTo.id) {\n      queryParams.push(\"priceto=\" + vehicleFilters.priceTo.id);\n    }\n\n    if (vehicleFilters.fuelType && vehicleFilters.fuelType.id) {\n      queryParams.push(\"fuel=\" + vehicleFilters.fuelType.id);\n    }\n\n    if (vehicleFilters.transmission && vehicleFilters.transmission.id) {\n      queryParams.push(\"gear=\" + vehicleFilters.transmission.id);\n    }\n\n    if (vehicleFilters.engineSize && vehicleFilters.engineSize.id !== \"\") {\n      queryParams.push(\"engine=\" + vehicleFilters.engineSize.id);\n    }\n\n    if (vehicleFilters.driveTrain && vehicleFilters.driveTrain.id !== \"\") {\n      queryParams.push(\"drivetrain=\" + vehicleFilters.driveTrain.id);\n    }\n\n    if (vehicleFilters.doors && vehicleFilters.doors.id) {\n      queryParams.push(\"doors=\" + vehicleFilters.doors.id);\n    }\n\n    if (vehicleFilters.seats && vehicleFilters.seats.id) {\n      queryParams.push(\"seats=\" + vehicleFilters.seats.id);\n    }\n\n    if (vehicleFilters.co2 && vehicleFilters.co2.id) {\n      queryParams.push(\"co2=\" + vehicleFilters.co2.id);\n    }\n\n    if (vehicleFilters.mpg && vehicleFilters.mpg.id) {\n      queryParams.push(\"mpg=\" + vehicleFilters.mpg.id);\n    }\n\n    if (vehicleFilters.vehicleStyle && vehicleFilters.vehicleStyle.id) {\n      queryParams.push(\"vehiclestyle=\" + vehicleFilters.vehicleStyle.id);\n    }\n\n    if (vehicleFilters.vehicleSize && vehicleFilters.vehicleSize.id) {\n      queryParams.push(\"vehiclesize=\" + vehicleFilters.vehicleSize.id);\n    }\n\n    if (vehicleFilters.isInStock) {\n      queryParams.push(\"isinstock=true\");\n    }\n\n    if (vehicleFilters.isSpecial) {\n      queryParams.push(\"isspecial=true\");\n    }\n  }\n\n  return queryParams;\n};\n\n_c33 = GetQueryParamsFromFilter;\nexport var GetFullUrlPath = function GetFullUrlPath() {\n  return window.location.pathname + window.location.search;\n};\n_c34 = GetFullUrlPath;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28, _c29, _c30, _c31, _c32, _c33, _c34;\n\n$RefreshReg$(_c, \"GetCanonicalUrl\");\n$RefreshReg$(_c2, \"GetNonAmpCanonicalUrl\");\n$RefreshReg$(_c3, \"GetVehiclesSearchUrl\");\n$RefreshReg$(_c4, \"GetVehicleManufacturerUrl\");\n$RefreshReg$(_c5, \"GetShortModelUrl\");\n$RefreshReg$(_c6, \"GetDynamicShortModelUrl\");\n$RefreshReg$(_c7, \"GetNewsTypeUrl\");\n$RefreshReg$(_c8, \"GetAdviceCategoryUrl\");\n$RefreshReg$(_c9, \"GetAdviceTagUrl\");\n$RefreshReg$(_c10, \"GetAdviceArticleUrl\");\n$RefreshReg$(_c11, \"BodyTypeUrlLeasingDeal\");\n$RefreshReg$(_c12, \"ShortTermLeasing\");\n$RefreshReg$(_c13, \"InStockUrlLeasingType\");\n$RefreshReg$(_c14, \"BudgetToUrlLeasingType\");\n$RefreshReg$(_c15, \"BudgetFromUrlLeasingDealType\");\n$RefreshReg$(_c16, \"BudgetToUrlVehicleType\");\n$RefreshReg$(_c17, \"BudgetFromUrlVehicleType\");\n$RefreshReg$(_c18, \"BodyTypeUrlVehicleType\");\n$RefreshReg$(_c19, \"InStockUrlVehicleType\");\n$RefreshReg$(_c20, \"GetVehicleUrlTemplate\");\n$RefreshReg$(_c21, \"GetVehicleUrl\");\n$RefreshReg$(_c22, \"GetDynamicVehicleUrl\");\n$RefreshReg$(_c23, \"GetVehicleTypeUrl\");\n$RefreshReg$(_c24, \"GetBaseVehicleTypeUrl\");\n$RefreshReg$(_c25, \"GetDealTypeUrl\");\n$RefreshReg$(_c26, \"GetAtcUrl\");\n$RefreshReg$(_c27, \"GetThankYouPageUrl\");\n$RefreshReg$(_c28, \"GetVehicleTypeFromUrl\");\n$RefreshReg$(_c29, \"CheckAtcUrl\");\n$RefreshReg$(_c30, \"CheckCarUrl\");\n$RefreshReg$(_c31, \"CheckVanUrl\");\n$RefreshReg$(_c32, \"GetSearchFiltersUrl\");\n$RefreshReg$(_c33, \"GetQueryParamsFromFilter\");\n$RefreshReg$(_c34, \"GetFullUrlPath\");","map":{"version":3,"sources":["E:/current_project/PPH/tfs/Website/Website/helpers/urlHelper.tsx"],"names":["VehicleTypes","LeasingDealTypes","isNullOrWhiteSpace","getFriendlyUrlSegment","getUrl","queryString","require","GetCanonicalUrl","relativePath","process","env","NEXT_PUBLIC_CANONICALBASEURL","GetNonAmpCanonicalUrl","replace","GetVehiclesSearchUrl","leasingDealType","userPostcode","trailingPart","GetAtcUrl","vehicleTemplateUrl","GetVehicleUrlTemplate","toLowerCase","includes","fullUrl","split","startUrl","endUrl","GetVehicleManufacturerUrl","isATC","manufacturer","GetDealTypeUrl","GetShortModelUrl","shortModText","vehicleFilters","baseUrl","queryParams","GetQueryParamsFromFilter","GetDynamicShortModelUrl","GetNewsTypeUrl","newsType","newsTypeUrl","trim","GetAdviceCategoryUrl","categoryUrl","GetAdviceTagUrl","tagUrl","GetAdviceArticleUrl","articleUrl","BodyTypeUrlLeasingDeal","bodyType","toString","ShortTermLeasing","InStockUrlLeasingType","BudgetToUrlLeasingType","budget","BudgetFromUrlLeasingDealType","BudgetToUrlVehicleType","vehicleType","GetVehicleTypeUrl","BudgetFromUrlVehicleType","BodyTypeUrlVehicleType","InStockUrlVehicleType","result","Van","Business","GetVehicleUrl","model","derivative","vehicleref","mileage","rentals","term","isDefault","isInternal","url","stringify","GetDynamicVehicleUrl","GetBaseVehicleTypeUrl","Car","Commercial","Personal","GetThankYouPageUrl","goal","GetVehicleTypeFromUrl","CheckVanUrl","CheckAtcUrl","CheckCarUrl","GetSearchFiltersUrl","isAtc","manufacturerUrl","modelUrl","shortDerTextUrl","id","push","initialRental","priceFrom","priceTo","fuelType","transmission","engineSize","driveTrain","doors","seats","co2","mpg","vehicleStyle","vehicleSize","isInStock","isSpecial","GetFullUrlPath","window","location","pathname","search"],"mappings":"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","sourcesContent":["import { VehicleTypes } from \"enums/VehicleTypes\";\r\nimport { LeasingDealTypes } from \"enums/LeasingDealTypes\";\r\nimport { isNullOrWhiteSpace } from \"./stringHelper\";\r\nimport { getFriendlyUrlSegment, getUrl } from \"./urlsHelper\";\r\n\r\nconst queryString = require('query-string');\r\n\r\n\r\nexport const GetCanonicalUrl = (relativePath: string): string => {\r\n    return process.env.NEXT_PUBLIC_CANONICALBASEURL + ((!isNullOrWhiteSpace(relativePath) && relativePath !== \"/\") ? relativePath : \"\");\r\n}\r\n\r\nexport const GetNonAmpCanonicalUrl = (relativePath: string) => {\r\n    if (process.env.NEXT_PUBLIC_CANONICALBASEURL + ((!isNullOrWhiteSpace(relativePath) && relativePath !== \"/\"))) {\r\n        return relativePath.replace(\"/amp\", \"\");\r\n    } else {\r\n        return relativePath;\r\n    }\r\n}\r\n\r\nexport const GetVehiclesSearchUrl = (leasingDealType: LeasingDealTypes, userPostcode: string, trailingPart: string = null) => {\r\n    if (userPostcode) {\r\n        return GetAtcUrl(leasingDealType, userPostcode, \"/search\");\r\n\r\n    } else {\r\n        let vehicleTemplateUrl = GetVehicleUrlTemplate(leasingDealType).toLowerCase();\r\n\r\n        if (vehicleTemplateUrl.includes(\"?\")) {\r\n            var fullUrl = vehicleTemplateUrl.split('?');\r\n            var startUrl = fullUrl[0];\r\n            var endUrl = fullUrl[1];\r\n\r\n            return startUrl + \"/search?\" + endUrl + (trailingPart ? \"&\" + trailingPart : '');\r\n        } else {\r\n            return vehicleTemplateUrl + \"/search\" + (trailingPart ? \"?\" + trailingPart : '');\r\n        }\r\n    }\r\n}\r\n\r\nexport const GetVehicleManufacturerUrl = (isATC: boolean, userPostcode: string, leasingDealType: LeasingDealTypes, manufacturer: string): string => {\r\n    if (isATC && userPostcode) {\r\n        return GetAtcUrl(leasingDealType, userPostcode, \"/\" + getFriendlyUrlSegment(manufacturer));\r\n    } else {\r\n        return GetDealTypeUrl(leasingDealType, \"/\" + getFriendlyUrlSegment(manufacturer));\r\n    }\r\n}\r\n\r\nexport const GetShortModelUrl = (isATC: boolean, userPostcode: string, leasingDealType: LeasingDealTypes, manufacturer: string, shortModText: string, vehicleFilters?: any) => {\r\n    let baseUrl = '';\r\n    let queryParams = [];\r\n\r\n    if (isATC && userPostcode) {\r\n        baseUrl = GetAtcUrl(leasingDealType, userPostcode, \"/\" + getFriendlyUrlSegment(manufacturer) + \"/\" + getFriendlyUrlSegment(shortModText));\r\n    } else {\r\n        baseUrl = GetDealTypeUrl(leasingDealType, \"/\" + getFriendlyUrlSegment(manufacturer) + \"/\" + getFriendlyUrlSegment(shortModText));\r\n    }\r\n\r\n    return getUrl(baseUrl, GetQueryParamsFromFilter(vehicleFilters));\r\n}\r\n\r\nexport const GetDynamicShortModelUrl = (isATC: boolean, userPostcode: string, leasingDealType: LeasingDealTypes, vehicleFilters?: any) => {\r\n    let baseUrl = '';\r\n    let queryParams = [];\r\n\r\n    if (isATC && userPostcode) {\r\n        baseUrl = GetAtcUrl(leasingDealType, userPostcode, \"/[make]/[shortModel]\");\r\n    } else {\r\n        baseUrl = GetDealTypeUrl(leasingDealType, \"/[make]/[shortModel]\");\r\n    }\r\n\r\n    return getUrl(baseUrl, GetQueryParamsFromFilter(vehicleFilters));\r\n}\r\n\r\nexport const GetNewsTypeUrl = (newsType: any) => {\r\n\r\n    \r\n    var newsTypeUrl = getFriendlyUrlSegment(newsType).trim();\r\n\r\n    if (newsTypeUrl) {\r\n        return \"/news/\" + newsTypeUrl;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport const GetAdviceCategoryUrl = (categoryUrl: string): string => {\r\n    return \"/advice/\" + getFriendlyUrlSegment(categoryUrl).toLowerCase();\r\n}\r\n\r\nexport const GetAdviceTagUrl = (tagUrl: string): string => {\r\n    return \"/advice/tag-\" + getFriendlyUrlSegment(tagUrl).toLowerCase();\r\n}\r\n\r\nexport const GetAdviceArticleUrl = (categoryUrl: string, articleUrl: string): string => {\r\n    return (\"/advice/\" + getFriendlyUrlSegment(categoryUrl) + \"/\" + getFriendlyUrlSegment(articleUrl)).toLowerCase();\r\n}\r\n\r\nexport const BodyTypeUrlLeasingDeal = (leasingDealType: LeasingDealTypes, bodyType: string): string => {\r\n    return GetDealTypeUrl(leasingDealType, \"/body-type-\" + getFriendlyUrlSegment(bodyType.toString()));\r\n}\r\n\r\nexport const ShortTermLeasing = (leasingDealType: LeasingDealTypes): string => {\r\n    return GetDealTypeUrl(leasingDealType, \"/short-term\");\r\n}\r\n\r\nexport const InStockUrlLeasingType = (leasingDealType: LeasingDealTypes): string => {\r\n    return GetDealTypeUrl(leasingDealType, \"/in-stock\");\r\n}\r\n\r\nexport const BudgetToUrlLeasingType = (leasingDealType: LeasingDealTypes, budget: number): string => {\r\n    return GetDealTypeUrl(leasingDealType, \"/budget/\" + budget);\r\n}\r\n\r\nexport const BudgetFromUrlLeasingDealType = (leasingDealType: LeasingDealTypes, budget: number): string => {\r\n    return GetDealTypeUrl(leasingDealType, \"/budget-over/\" + budget);\r\n}\r\n\r\nexport const BudgetToUrlVehicleType = (vehicleType: VehicleTypes, budget: number): string => {\r\n    return GetVehicleTypeUrl(vehicleType, \"/budget/\" + budget);\r\n}\r\n\r\nexport const BudgetFromUrlVehicleType = (vehicleType: VehicleTypes, budget: number): string => {\r\n    return GetVehicleTypeUrl(vehicleType, \"/budget-over/\" + budget);\r\n}\r\n\r\nexport const BodyTypeUrlVehicleType = (vehicleType: VehicleTypes, bodyType: string): string => {\r\n    return GetVehicleTypeUrl(vehicleType, \"/body-type/\" + getFriendlyUrlSegment(bodyType.toString()));\r\n}\r\n\r\nexport const InStockUrlVehicleType = (vehicleType: VehicleTypes) => {\r\n    return GetVehicleTypeUrl(vehicleType, \"/in-stock\");\r\n}\r\n\r\nexport const GetVehicleUrlTemplate = (leasingDealType: LeasingDealTypes): string => {\r\n    var result = \"/\" + (leasingDealType == LeasingDealTypes.Van ? \"van\" : \"car\") + \"-leasing\";\r\n\r\n    if (leasingDealType == LeasingDealTypes.Business) {\r\n        result += \"?leasingdeal=business\";\r\n    }\r\n\r\n    return result.toLowerCase();\r\n}\r\n\r\nexport const GetVehicleUrl = (isATC: boolean, userPostcode: string, leasingDealType: LeasingDealTypes, manufacturer: string, shortModText: string, model: string, derivative: string, vehicleref: number, mileage?: number, rentals?: number, term?: number, isDefault: boolean = false, isInternal: boolean = false) => {\r\n    let url = \"\";\r\n\r\n    if (isATC && userPostcode) {\r\n        url = GetAtcUrl(leasingDealType, userPostcode, \"/\" + getFriendlyUrlSegment(manufacturer) + \"/\" +\r\n            getFriendlyUrlSegment(shortModText) + \"/\" + getFriendlyUrlSegment(model) + \"/\" +\r\n            getFriendlyUrlSegment(derivative) + \"/\" + vehicleref + \"/vehicle\");\r\n    } else {\r\n        url = GetDealTypeUrl(leasingDealType, \"/\" + getFriendlyUrlSegment(manufacturer) + \"/\" +\r\n            getFriendlyUrlSegment(shortModText) + \"/\" + getFriendlyUrlSegment(model) + \"/\" +\r\n            getFriendlyUrlSegment(derivative) + \"/\" + vehicleref + \"/vehicle\");\r\n    }\r\n\r\n    if (mileage || rentals || term || isDefault || isInternal) {\r\n        if (!url.includes('?')) {\r\n            url += \"?\";\r\n        }\r\n\r\n        if (mileage && rentals && term) {\r\n            url += '&' + queryString.stringify({ mileage, rentals, term });\r\n        }\r\n\r\n        if (isInternal) { url += \"&isInternal=1\"; }\r\n        if (isDefault) { url += \"&isDefault=1\"; }\r\n    }\r\n\r\n    return url.toLowerCase();\r\n}\r\n\r\nexport const GetDynamicVehicleUrl = (isATC: boolean, userPostcode: string, leasingDealType: LeasingDealTypes) => {\r\n    let url = \"\";\r\n\r\n    if (isATC && userPostcode) {\r\n        url = GetAtcUrl(leasingDealType, userPostcode, \"/[make]/[shortModel]/[model]/[derivative]/[vehicleRef]/vehicle\");\r\n    } else {\r\n        url = GetDealTypeUrl(leasingDealType, \"/[make]/[shortModel]/[model]/[derivative]/[vehicleRef]/vehicle\");\r\n    }\r\n\r\n    return url;\r\n}\r\n\r\nexport const GetVehicleTypeUrl = (vehicleType: VehicleTypes, trailingPart: string = null): string => {\r\n\r\n    var result = GetBaseVehicleTypeUrl(vehicleType);\r\n\r\n    if (!isNullOrWhiteSpace(result) && !isNullOrWhiteSpace(trailingPart)) {\r\n        result += trailingPart;\r\n    }\r\n\r\n    return result.toLowerCase();\r\n}\r\n\r\nexport const GetBaseVehicleTypeUrl = (vehicleType: VehicleTypes): string => {\r\n    var result = \"\";\r\n\r\n    switch (vehicleType) {\r\n        case VehicleTypes.Car:\r\n            result = \"/car-leasing\";\r\n            break;\r\n        case VehicleTypes.Commercial:\r\n            result = \"/van-leasing\";\r\n            break;\r\n    }\r\n\r\n    return result.toLowerCase();\r\n}\r\n\r\n\r\nexport const GetDealTypeUrl = (leasingDealType: LeasingDealTypes, trailingPart: string = null): string => {\r\n    let result = \"\";\r\n\r\n    if (leasingDealType == LeasingDealTypes.Business) {\r\n        result = \"/car-leasing\" + (trailingPart ?? \"\") + \"?leasingdeal=business\";\r\n    } else if (leasingDealType == LeasingDealTypes.Personal) {\r\n        result = \"/car-leasing\" + (trailingPart ?? \"\");\r\n    } else if (leasingDealType == LeasingDealTypes.Van) {\r\n        result = \"/van-leasing\" + (trailingPart ?? \"\");\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport const GetAtcUrl = (leasingDealType: LeasingDealTypes, userPostcode: string, trailingPart: string = null) => {\r\n    let result = \"/car-leasing-with-insurance/\" + getFriendlyUrlSegment(userPostcode).toLowerCase() + trailingPart;\r\n\r\n    if (leasingDealType == LeasingDealTypes.Business) {\r\n        result += \"?leasingdeal=business\";\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport const GetThankYouPageUrl = (isInternal: boolean, goal: string = null): string => {\r\n    if (!isInternal) {\r\n        return \"/thankyou?goal=\" + goal;\r\n    }\r\n    else {\r\n        return \"/thankyouinternal\";\r\n    }\r\n}\r\n\r\nexport const GetVehicleTypeFromUrl = (url: string): VehicleTypes => {\r\n    if (CheckVanUrl(url)) {\r\n        return VehicleTypes.Commercial;\r\n    } else {\r\n        return VehicleTypes.Car;\r\n    }\r\n}\r\n\r\nexport const CheckAtcUrl = (url: string): boolean => {\r\n    return url.includes(\"car-leasing-with-insurance\");\r\n}\r\n\r\nexport const CheckCarUrl = (url: string): boolean => {\r\n    return url.includes(\"car-leasing\");\r\n}\r\n\r\nexport const CheckVanUrl = (url: string): boolean => {\r\n    if(url.includes(\"van-leasing\") || url.includes(\"van-leasing-deals\")) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport const GetSearchFiltersUrl = (leasingDealType: LeasingDealTypes, userPostcode: string, vehicleFilters: any) => {\r\n    let baseUrl = null;\r\n    let isAtc = false;\r\n\r\n    if (userPostcode) {\r\n        isAtc = true;\r\n\r\n        if (vehicleFilters.manufacturerUrl === \"\") {\r\n            baseUrl = GetVehiclesSearchUrl(leasingDealType, userPostcode);\r\n        }\r\n        else if (vehicleFilters.modelUrl === \"\") {\r\n            baseUrl = GetVehicleManufacturerUrl(isAtc, userPostcode, leasingDealType, vehicleFilters.manufacturerUrl);\r\n        }\r\n        else {\r\n            baseUrl = GetShortModelUrl(isAtc, userPostcode, leasingDealType, vehicleFilters.manufacturerUrl, vehicleFilters.modelUrl, null);\r\n        }\r\n    } else {\r\n        if (vehicleFilters.manufacturerUrl === \"\") {\r\n            baseUrl = GetVehiclesSearchUrl(leasingDealType, '');\r\n        }\r\n        else if (vehicleFilters.modelUrl === \"\") {\r\n            baseUrl = GetVehicleManufacturerUrl(isAtc, null, leasingDealType, vehicleFilters.manufacturerUrl);\r\n        }\r\n        else {\r\n            baseUrl = GetShortModelUrl(isAtc, null, leasingDealType, vehicleFilters.manufacturerUrl, vehicleFilters.modelUrl, null);\r\n        }\r\n    }\r\n\r\n    return getUrl(baseUrl, GetQueryParamsFromFilter(vehicleFilters));\r\n}\r\n\r\nconst GetQueryParamsFromFilter = (vehicleFilters: any) => {\r\n    let queryParams = [];\r\n\r\n    if (vehicleFilters) {\r\n        if (vehicleFilters.shortDerTextUrl && vehicleFilters.shortDerTextUrl.id !== \"\") {\r\n            queryParams.push(\"trimlevel=\" + vehicleFilters.shortDerTextUrl.id);\r\n        }\r\n        if (vehicleFilters.mileage && vehicleFilters.mileage.id) {\r\n            queryParams.push(\"mileage=\" + vehicleFilters.mileage.id);\r\n        }\r\n        if (vehicleFilters.initialRental && vehicleFilters.initialRental.id) {\r\n            queryParams.push(\"rentals=\" + vehicleFilters.initialRental.id);\r\n        }\r\n        if (vehicleFilters.term && vehicleFilters.term.id) {\r\n            queryParams.push(\"term=\" + vehicleFilters.term.id);\r\n        }\r\n        if (vehicleFilters.priceFrom && vehicleFilters.priceFrom.id) {\r\n            queryParams.push(\"pricefrom=\" + vehicleFilters.priceFrom.id);\r\n        }\r\n        if (vehicleFilters.priceTo && vehicleFilters.priceTo.id) {\r\n            queryParams.push(\"priceto=\" + vehicleFilters.priceTo.id);\r\n        }\r\n        if (vehicleFilters.fuelType && vehicleFilters.fuelType.id) {\r\n            queryParams.push(\"fuel=\" + vehicleFilters.fuelType.id);\r\n        }\r\n        if (vehicleFilters.transmission && vehicleFilters.transmission.id) {\r\n            queryParams.push(\"gear=\" + vehicleFilters.transmission.id);\r\n        }\r\n        if (vehicleFilters.engineSize && vehicleFilters.engineSize.id !== \"\") {\r\n            queryParams.push(\"engine=\" + vehicleFilters.engineSize.id);\r\n        }\r\n        if (vehicleFilters.driveTrain && vehicleFilters.driveTrain.id !== \"\") {\r\n            queryParams.push(\"drivetrain=\" + vehicleFilters.driveTrain.id);\r\n        }\r\n        if (vehicleFilters.doors && vehicleFilters.doors.id) {\r\n            queryParams.push(\"doors=\" + vehicleFilters.doors.id);\r\n        }\r\n        if (vehicleFilters.seats && vehicleFilters.seats.id) {\r\n            queryParams.push(\"seats=\" + vehicleFilters.seats.id);\r\n        }\r\n        if (vehicleFilters.co2 && vehicleFilters.co2.id) {\r\n            queryParams.push(\"co2=\" + vehicleFilters.co2.id);\r\n        }\r\n        if (vehicleFilters.mpg && vehicleFilters.mpg.id) {\r\n            queryParams.push(\"mpg=\" + vehicleFilters.mpg.id);\r\n        }\r\n        if (vehicleFilters.vehicleStyle && vehicleFilters.vehicleStyle.id) {\r\n            queryParams.push(\"vehiclestyle=\" + vehicleFilters.vehicleStyle.id);\r\n        }\r\n        if (vehicleFilters.vehicleSize && vehicleFilters.vehicleSize.id) {\r\n            queryParams.push(\"vehiclesize=\" + vehicleFilters.vehicleSize.id);\r\n        }\r\n        if (vehicleFilters.isInStock) {\r\n            queryParams.push(\"isinstock=true\");\r\n        }\r\n        if (vehicleFilters.isSpecial) {\r\n            queryParams.push(\"isspecial=true\");\r\n        }\r\n    }\r\n\r\n    return queryParams;\r\n}\r\n\r\nexport const GetFullUrlPath = () => {\r\n    return window.location.pathname + window.location.search;\r\n}"]},"metadata":{},"sourceType":"module"}